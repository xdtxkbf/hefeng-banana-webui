# 🎯 使用指南 - 从零开始

## 📥 下载和安装

### 第一步：下载项目
1. 在 GitHub 页面点击绿色的 **"Code"** 按钮
2. 选择 **"Download ZIP"**
3. 下载完成后，解压到任意文件夹（如：`D:\banana-tool\`）

### 第二步：一键安装（推荐小白用户）
1. 双击运行 `install_and_run.bat` 文件
2. 如果没有Python，脚本会引导您安装
3. 如果没有配置API密钥，脚本会打开配置文件让您填写
4. 安装完成后会自动启动程序

### 第三步：配置API密钥
首次运行时需要配置API密钥：
1. 打开 `.env` 文件（用记事本即可）
2. 将您的API密钥填入对应位置：
```
GRSAI_API_KEY=sk-your-real-api-key-here
GRSAI_BACKUP_KEYS=sk-your-backup-key-here
```
3. 保存文件

## 🖥️ 使用界面

### 启动程序
- 首次使用：双击 `install_and_run.bat`
- 以后使用：双击 `run.bat`
- 程序启动后浏览器会自动打开界面

### 界面布局
```
┌─────────────────────┬─────────────────────┐
│       📤 输入        │      📊 输出         │
├─────────────────────┼─────────────────────┤
│ • 上传图像          │ • 任务状态           │
│ • 提示词输入        │ • 生成的图像         │
│ • 参数配置          │ • 详细日志           │
└─────────────────────┴─────────────────────┘
```

## 📋 操作步骤

### 基础操作流程
1. **上传图像**：
   - 拖拽图片到上传区域，或点击选择文件
   - 支持 jpg、png、webp 等格式
   - 可以一次上传多张图片

2. **输入提示词**：
   - 在文本框中输入提示词
   - 每行一个提示词，支持多行
   - 示例：
     ```
     换一个自然休闲优雅的pose，保持面无表情
     换成坐姿，表情微笑，眼神看向镜头
     换成站姿，双手叉腰，自信表情
     ```

3. **配置参数（可选）**：
   - 点击 "⚙️ 配置" 展开设置区域
   - 调整并发数（建议5-10）
   - 选择模型（fast版本速度快，普通版本质量高）

4. **开始生成**：
   - 点击 "🚀 开始生成" 按钮
   - 系统会显示实时进度
   - 生成完成的图片会显示在右侧

### 高级功能

#### 多账户并发
1. 在配置区域勾选 "启用多账户"
2. 在备用密钥框中输入额外的API密钥
3. 系统会自动轮流使用多个密钥，提高处理速度

#### 重做和修改
1. 点击生成的图片查看详情
2. 点击 "🔄 重做此图" 使用相同参数重新生成
3. 点击 "📋 重排此图" 将参数填回表单进行修改

#### 缓存管理
- 系统会自动缓存上传的图片，避免重复上传
- 如需清空缓存，点击 "🗑️ 清空上传缓存"

## 🔧 参数说明

### 基本参数
- **并发数**：同时处理的任务数量
  - 建议值：5-15
  - 太高可能导致API限制，太低影响效率

- **模型选择**：
  - `nano-banana-fast`：速度快，质量较好（推荐）
  - `nano-banana`：速度较慢，质量更高

- **宽高比**：控制输出图像的尺寸
  - `auto`：自动（推荐）
  - `1:1`：正方形
  - `16:9`：宽屏
  - `9:16`：竖屏

### 高级参数
- **重试次数**：失败任务的重试次数（建议3次）
- **多账户**：使用多个API密钥并发处理

## ❗ 注意事项

### 使用建议
1. **网络环境**：确保网络连接稳定
2. **文件格式**：建议使用 jpg 或 png 格式
3. **提示词**：清晰描述想要的效果
4. **并发设置**：根据API限制调整并发数

### 常见问题
1. **上传失败**：检查网络和API密钥
2. **生成缓慢**：降低并发数或检查网络
3. **程序卡死**：重启程序，检查输入参数
4. **内存不足**：减少同时处理的图片数量

## 📞 获取帮助

如果遇到问题：
1. 查看程序输出的错误信息
2. 检查网络连接和API密钥
3. 重启程序重试
4. 在 GitHub Issues 中提问

---

**祝您使用愉快！如有问题欢迎反馈！** 🎉